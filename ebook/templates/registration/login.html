{% extends 'base.html' %}
{% load static %}
{% block title %}
    E-book
{% endblock title %}
{% block links %}
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
{% endblock links %}
{% block content %}
    <div class="main">
            <div class="container warp">
                <div class="box mt-auto mb-auto">
                    {% if form.errors %}
                        <p>Your username and password didn't match. Please try again.</p>
                    {% endif %}
                    <div class="formbox">
                        <h2 style="text-align: center; font-family: 'PT Mono', monospace;">Войти</h2>
                        <form class="needs-validation" novalidate method="post" action="{% url 'login' %}">
                            {% csrf_token %}
                            <div class="input-group flex-nowrap">
                                <div class="input-group-prepend">
                                    <span class="input-group-text formInput" id="addon-wrapping"><i class="far fa-envelope"></i></span>
                                </div>
                                <input id="id_username" type="email" name="username" class="textinput textInput  form-control formInput" placeholder="example@gmail.com" aria-label="email"
                                    aria-describedby="addon-wrapping">
                            </div> <br>
                            <div class="input-group flex-nowrap">
                                <div class="input-group-prepend">
                                    <span class="input-group-text formInput" id="addon-wrapping"><i class="fas fa-lock"></i></span>
                                </div>
                                <input id="id_password" type="password" class="textinput textInput  form-control formInput" name="password" placeholder="Пароль" required>
                                <div class="input-group-append" onclick="showHidePwd()" style="cursor: pointer;">
                                    <span class="input-group-text formInput">
                                        <i id="eye" class="far fa-eye-slash"></i>
                                    </span>
                                </div>
                            </div><br>
                            <div class="form-row">
                                <button class="btn btn-rounded-blue btn-lg">Войти</button>
                            </div>
                        </form> <br>
                        <p>
                            <a href="/registration" class="link">Еще нет аккаунта? Зарегистрируйтесь</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <script>
            function showHidePwd(){
                var input = document.getElementById("id_password");
                if (input.type === "password") {
                    input.type = "text";
                    document.getElementById("eye").className = "far fa-eye";
                } else {
                    input.type = "password";
                    document.getElementById("eye").className = "far fa-eye-slash";
                }
            }
        </script>
{% endblock content %}